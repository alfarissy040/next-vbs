// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mongodb"
    url      = env("DATABASE_URL")
}

model aks_pemakai {
    id_pemakai String @id @default(auto()) @map("_id") @db.ObjectId
    name       String
    username   String @unique
    password   String
    email      String @unique
    id_lvl     String @db.ObjectId
    kd_kntr    String  

    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    para_level_user        para_level_user  @relation(fields: [id_lvl], references: [id_level], onDelete: NoAction, onUpdate: Cascade)
    cis_master_created     cis_master[]     @relation("aks_pemakai_create")
    cis_master_updated     cis_master[]     @relation("aks_pemakai_update")
    cis_perorangan_created cis_perorangan[] @relation("aks_pemakai_create")
    cis_perorangan_updated cis_perorangan[] @relation("aks_pemakai_update")
    cis_perusahaan_created cis_perusahaan[] @relation("aks_pemakai_create")
    cis_perusahaan_updated cis_perusahaan[] @relation("aks_pemakai_update")
    cis_alamat_created     cis_alamat[]     @relation("aks_pemakai_create")
    cis_alamat_updated     cis_alamat[]     @relation("aks_pemakai_update")
    cis_pengurus_created   cis_pengurus[]   @relation("aks_pemakai_create")
    cis_pengurus_updated   cis_pengurus[]   @relation("aks_pemakai_update")
    cis_update_created   cis_update[]   @relation("aks_pemakai_create")
    cis_update_updated   cis_update[]   @relation("aks_pemakai_update")
    para_cs_tujuan_created   para_cs_tujuan[]   @relation("aks_pemakai_create")
    para_cs_tujuan_updated   para_cs_tujuan[]   @relation("aks_pemakai_update")
    para_jns_ident_created   para_jns_ident[]   @relation("aks_pemakai_create")
    para_jns_ident_updated   para_jns_ident[]   @relation("aks_pemakai_update")
    para_bntk_hkm_created   para_bntk_hkm[]   @relation("aks_pemakai_create")
    para_bntk_hkm_updated   para_bntk_hkm[]   @relation("aks_pemakai_update")
    para_gol_pmlk_created   para_gol_pmlk[]   @relation("aks_pemakai_create")
    para_gol_pmlk_updated   para_gol_pmlk[]   @relation("aks_pemakai_update")
    para_dana_created   para_dana[]   @relation("aks_pemakai_create")
    para_dana_updated   para_dana[]   @relation("aks_pemakai_update")
    para_transaksi_created   para_transaksi[]   @relation("aks_pemakai_create")
    para_transaksi_updated   para_transaksi[]   @relation("aks_pemakai_update")
    para_penghasilan_created   para_penghasilan[]   @relation("aks_pemakai_create")
    para_penghasilan_updated   para_penghasilan[]   @relation("aks_pemakai_update")     
    para_bidang_usaha_created   para_bidang_usaha[]   @relation("aks_pemakai_create")
    para_bidang_usaha_updated   para_bidang_usaha[]   @relation("aks_pemakai_update")
    para_grup_nas_created   para_grup_nas[]   @relation("aks_pemakai_create")
    para_grup_nas_updated   para_grup_nas[]   @relation("aks_pemakai_update")
    para_sts_nikah_created   para_sts_nikah[]   @relation("aks_pemakai_create")
    para_sts_nikah_updated   para_sts_nikah[]   @relation("aks_pemakai_update")
    para_agama_created   para_agama[]   @relation("aks_pemakai_create")
    para_agama_updated   para_agama[]   @relation("aks_pemakai_update")
    para_profesi_created   para_profesi[]   @relation("aks_pemakai_create")
    para_profesi_updated   para_profesi[]   @relation("aks_pemakai_update")
    para_jns_pekerjaan_created   para_jns_pekerjaan[]   @relation("aks_pemakai_create")
    para_jns_pekerjaan_updated   para_jns_pekerjaan[]   @relation("aks_pemakai_update")
    para_negara_created   para_negara[]   @relation("aks_pemakai_create")
    para_negara_updated   para_negara[]   @relation("aks_pemakai_update")
    para_provinsi_created   para_provinsi[]   @relation("aks_pemakai_create")
    para_provinsi_updated   para_provinsi[]   @relation("aks_pemakai_update")
    para_kota_created   para_kota[]   @relation("aks_pemakai_create")
    para_kota_updated   para_kota[]   @relation("aks_pemakai_update")
    para_kecamatan_created   para_kecamatan[]   @relation("aks_pemakai_create")
    para_kecamatan_updated   para_kecamatan[]   @relation("aks_pemakai_update")
    para_kelurahan_created   para_kelurahan[]   @relation("aks_pemakai_create")
    para_kelurahan_updated   para_kelurahan[]   @relation("aks_pemakai_update")
    notification_sender notification[] @relation("notification_sender")
    notification_reciver notification[] @relation("notification_reciver")
}

model cis_master {
    id_master           String    @id @default(auto()) @map("_id") @db.ObjectId
    no_nas              String    @unique
    created_at_kantor   String
    nm_nas              String
    tipe_nas            Int
    no_ident            String
    masa_ident          Int
    tgl_ident           DateTime?
    status_nas          String    @default("00")
    flag_hub_bank       Boolean   @default(false)
    npwp                String?
    no_telp             String
    email               String
    kd_jns_ident           Int
    kd_acc_off             String
    kd_bntk_hkm            Int
    kd_gol_pemilik         Int
    kd_sumber_dana         Int
    kd_tujuan_dana         Int
    kd_maks_trans          Int
    kd_penghasilan_bulan   Int
    kd_penghasilan_lainnya Int?
    kd_pengeluaran_bulan   Int
    kd_pengeluaran_lainnya Int?
    kd_bidang_usaha        Int?

    usrid_create String
    usrid_update String?
    created_at   DateTime @default(now())
    updated_at   DateTime @updatedAt

    aks_pemakai_create       aks_pemakai        @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update       aks_pemakai?       @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)
    alamat                   cis_alamat[]
    cis_perusahaan           cis_perusahaan?
    cis_perorangan           cis_perorangan?
    cis_pengurus             cis_pengurus[]
    jenis_identitas           para_jns_ident     @relation(fields: [kd_jns_ident], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    bentuk_hukum            para_bntk_hkm      @relation(fields: [kd_bntk_hkm], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    golongan_pemilik            para_gol_pmlk      @relation(fields: [kd_gol_pemilik], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    sumber_dana         para_dana          @relation("sumber_dana", fields: [kd_sumber_dana], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    tujuan_dana         para_dana          @relation("tujuan_dana", fields: [kd_tujuan_dana], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    transaksi           para_transaksi     @relation(fields: [kd_maks_trans], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    penghasilan         para_penghasilan   @relation("penghasilan", fields: [kd_penghasilan_bulan], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    penghasilan_lainnya para_penghasilan?  @relation("penghasilan_lainnya", fields: [kd_penghasilan_lainnya], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    pengeluaran         para_penghasilan   @relation("pengeluaran", fields: [kd_pengeluaran_bulan], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    pengeluaran_lainnya para_penghasilan?  @relation("pengeluaran_lainnya", fields: [kd_pengeluaran_lainnya], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    bidang_usaha        para_bidang_usaha? @relation(fields: [kd_bidang_usaha], references: [kode], onDelete: NoAction, onUpdate: Cascade)
}

model cis_alamat {
    id_alamat     String  @id @default(auto()) @map("_id") @db.ObjectId
    no_nas        String?
    id_pengurus   String? @db.ObjectId
    no_urut       Int     @default(1)
    jns_alamat    String
    kd_negara        String
    kd_provinsi      Int
    kd_kota          Int
    kd_kecamatan     Int
    kd_kelurahan     Int
    rt            String
    rw            String
    kd_pos        String
    alamat_detail String

    usrid_create String
    usrid_update String?
    created_at   DateTime @default(now())
    updated_at   DateTime @updatedAt

    aks_pemakai_create aks_pemakai    @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai?   @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)
    cis_master         cis_master?    @relation(fields: [no_nas], references: [no_nas], onDelete: NoAction, onUpdate: Cascade)
    cis_pengurus       cis_pengurus?  @relation(fields: [id_pengurus], references: [id_pengurus], onDelete: NoAction, onUpdate: Cascade)
    negara        para_negara    @relation(fields: [kd_negara], references: [kd_negara], onDelete: NoAction, onUpdate: Cascade)
    provinsi      para_provinsi  @relation(fields: [kd_provinsi], references: [kd_provinsi], onDelete: NoAction, onUpdate: Cascade)
    kota          para_kota      @relation(fields: [kd_kota], references: [kd_kota], onDelete: NoAction, onUpdate: Cascade)
    kecamatan     para_kecamatan @relation(fields: [kd_kecamatan], references: [kd_kecamatan], onDelete: NoAction, onUpdate: Cascade)
    kelurahan     para_kelurahan @relation(fields: [kd_kelurahan], references: [kd_kelurahan], onDelete: NoAction, onUpdate: Cascade)
}

model cis_perorangan {
    id_perorangan     String   @id @default(auto()) @map("_id") @db.ObjectId
    no_nas            String   @unique
    nm_ibu            String
    tempat_lahir      String
    tgl_lahir         DateTime
    jns_kelamin       String
    flag_karyawan     Boolean  @default(false)
    nm_pasangan       String?
    no_ident_pasangan String?
    nm_ahli_waris     String?
    jabatan           String
    nm_kntr           String
    kd_status_pernikahan Int
    kd_agama             Int
    kd_kewarganegaraan   String
    kd_profesi           Int
    kd_jns_pekerjaan     Int

    usrid_create String
    usrid_update String?
    created_at   DateTime @default(now())
    updated_at   DateTime @updatedAt

    aks_pemakai_create aks_pemakai        @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai?       @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)
    cisMaster          cis_master         @relation(fields: [no_nas], references: [no_nas], onDelete: NoAction, onUpdate: Cascade)
    status_nikah     para_sts_nikah     @relation(fields: [kd_status_pernikahan], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    agama         para_agama         @relation(fields: [kd_agama], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    negara        para_negara        @relation(fields: [kd_kewarganegaraan], references: [kd_negara], onDelete: NoAction, onUpdate: Cascade)
    profesi       para_profesi       @relation(fields: [kd_profesi], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    jenis_pekerjaan para_jns_pekerjaan @relation(fields: [kd_jns_pekerjaan], references: [kode], onDelete: NoAction, onUpdate: Cascade)
}

model cis_perusahaan {
    id_perusahaan      String   @id @default(auto()) @map("_id") @db.ObjectId
    no_nas             String   @unique
    kd_group_nas          Int
    flag_bank          Boolean
    modal_sendiri      Int
    modal_setor        Int
    no_akte_awal       String
    tgl_akte_awal      DateTime
    no_akte_akhir      String
    tgl_akte_akhir     DateTime
    nm_notaris         String
    no_notaris         String
    tgl_notaris        DateTime
    no_permohonan_dep  String
    tgl_permohonan_dep DateTime
    no_izin_dep        String
    tgl_izin_dep       DateTime
    no_pub             String
    tgl_pub            DateTime

    usrid_create String
    usrid_update String?
    created_at   DateTime @default(now())
    updated_at   DateTime @updatedAt

    aks_pemakai_create aks_pemakai        @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai?       @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)
    cisMaster          cis_master         @relation(fields: [no_nas], references: [no_nas], onDelete: NoAction, onUpdate: Cascade)
    grup_nasabah      para_grup_nas      @relation(fields: [kd_group_nas], references: [kode], onDelete: NoAction, onUpdate: Cascade)
}

model cis_pengurus {
    id_pengurus     String   @id @default(auto()) @map("_id") @db.ObjectId
    no_nas          String
    kd_agama           Int
    kd_kewarganegaraan String
    kd_jns_ident       Int
    no_ident        String
    nm_nas          String
    masa_ident      Int
    tgl_ident       DateTime
    tempat_lahir    String
    tgl_lahir       DateTime
    no_hp           String
    no_telp         String
    email           String
    nm_ibu          String
    jabatan         String
    kepemilikan     Int
    npwp            String

    usrid_create String
    usrid_update String?
    created_at   DateTime @default(now())
    updated_at   DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)
    cis_master         cis_master?  @relation(fields: [no_nas], references: [no_nas], onDelete: NoAction, onUpdate: Cascade)
    cis_alamat         cis_alamat[]

    jenis_identitas para_jns_ident @relation(fields: [kd_jns_ident], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    negara    para_negara    @relation(fields: [kd_kewarganegaraan], references: [kd_negara], onDelete: NoAction, onUpdate: Cascade)
    agama     para_agama     @relation(fields: [kd_agama], references: [kode], onDelete: NoAction, onUpdate: Cascade)
}

model cis_update {
    id_update   String @id @default(auto()) @map("_id") @db.ObjectId
    db_field String
    nm_field String
    current_record String
    new_record String

    sts_update String @default("00")
    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)
}

model cs_form {
    id_form   String @id @default(auto()) @map("_id") @db.ObjectId
    kd_tujuan Int
    nama String
    jns_ident Int
    no_ident String
    email String
    no_telp String
    no_rek String
    kd_provinsi      Int
    kd_kota          Int
    kd_kecamatan     Int
    kd_kelurahan     Int
    rt            String
    rw            String
    kd_pos        String
    alamat_detail String
    
    created_at DateTime @default(now())

    tujuan para_cs_tujuan @relation(fields: [kd_tujuan], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    jenis_identitas           para_jns_ident     @relation(fields: [jns_ident], references: [kode], onDelete: NoAction, onUpdate: Cascade)
    provinsi      para_provinsi  @relation(fields: [kd_provinsi], references: [kd_provinsi], onDelete: NoAction, onUpdate: Cascade)
    kota          para_kota      @relation(fields: [kd_kota], references: [kd_kota], onDelete: NoAction, onUpdate: Cascade)
    kecamatan     para_kecamatan @relation(fields: [kd_kecamatan], references: [kd_kecamatan], onDelete: NoAction, onUpdate: Cascade)
    kelurahan     para_kelurahan @relation(fields: [kd_kelurahan], references: [kd_kelurahan], onDelete: NoAction, onUpdate: Cascade)
}

model notification {
    id_notifikasi   String @id @default(auto()) @map("_id") @db.ObjectId
    title String
    message String
    // utility
    send_from String
    send_to String
    message_type String
    created_at DateTime @default(now())

    aks_pemakai_send aks_pemakai @relation("notification_sender",fields: [send_from], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_recive aks_pemakai @relation("notification_reciver",fields: [send_to], references: [username], onDelete: NoAction, onUpdate: Cascade)
}

model para_cs_tujuan {
    id_tujuan   String @id @default(auto()) @map("_id") @db.ObjectId
    kode Int    @unique
    keterangan String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cs_form cs_form[]
}

model para_level_user {
    id_level   String @id @default(auto()) @map("_id") @db.ObjectId
    level      Int
    keterangan String

    aks_pemakai aks_pemakai[]
}

model para_jns_ident {
    id_ident   String @id @default(auto()) @map("_id") @db.ObjectId
    kode       Int    @unique
    keterangan String
    jns_nas    Int

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cis_master   cis_master[]
    cis_pengurus cis_pengurus[]
    cs_form cs_form[]
}

model para_bntk_hkm {
    id_bntk_hkm String @id @default(auto()) @map("_id") @db.ObjectId
    kode        Int    @unique
    keterangan  String
    jns_nas     Int

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cis_master cis_master[]
}

model para_gol_pmlk {
    id_gol_pmlk String @id @default(auto()) @map("_id") @db.ObjectId
    kode        Int    @unique
    keterangan  String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cis_master cis_master[]
}

model para_dana {
    id_dana    String @id @default(auto()) @map("_id") @db.ObjectId
    kode       Int    @unique
    keterangan String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cis_master_sumber cis_master[] @relation("sumber_dana")
    cis_master_tujuan cis_master[] @relation("tujuan_dana")
}

model para_transaksi {
    id_transaksi   String @id @default(auto()) @map("_id") @db.ObjectId
    kode           Int    @unique
    keterangan     String
    batas_maksimum Int

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cis_master cis_master[]
}

model para_penghasilan {
    id_penghasilan String @id @default(auto()) @map("_id") @db.ObjectId
    kode           Int    @unique
    keterangan     String

usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)
    cis_master_penghasilan         cis_master[] @relation("penghasilan")
    cis_master_penghasilan_lainnya cis_master[] @relation("penghasilan_lainnya")
    cis_master_pengeluaran         cis_master[] @relation("pengeluaran")
    cis_master_pengeluaran_lainnya cis_master[] @relation("pengeluaran_lainnya")
}

model para_bidang_usaha {
    id_bidang_usaha String @id @default(auto()) @map("_id") @db.ObjectId
    kode            Int    @unique
    keterangan      String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cis_master cis_master[]
}

model para_grup_nas {
    id_gruop_nas String @id @default(auto()) @map("_id") @db.ObjectId
    kode         Int    @unique
    keterangan   String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cis_perusahaan cis_perusahaan[]
}

model para_sts_nikah {
    id_sts_nikah String @id @default(auto()) @map("_id") @db.ObjectId
    kode         Int    @unique
    keterangan   String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cis_perorangan cis_perorangan[]
}

model para_agama {
    id_agama   String @id @default(auto()) @map("_id") @db.ObjectId
    kode       Int    @unique
    keterangan String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cis_perorangan cis_perorangan[]
    cis_pengurus   cis_pengurus[]
}

model para_profesi {
    id_profesi String @id @default(auto()) @map("_id") @db.ObjectId
    kode       Int    @unique
    keterangan String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cis_perorangan cis_perorangan[]
}

model para_jns_pekerjaan {
    id_jns_pekerjaan String @id @default(auto()) @map("_id") @db.ObjectId
    kode             Int    @unique
    keterangan       String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    cis_perorangan cis_perorangan[]
}

model para_negara {
    id_negara  String @id @default(auto()) @map("_id") @db.ObjectId
    kd_negara  String @unique
    keterangan String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    para_provinsi  para_provinsi[]
    cis_perorangan cis_perorangan[]
    cis_pengurus   cis_pengurus[]
    cis_alamat     cis_alamat[]
}

model para_provinsi {
    id          String @id @default(auto()) @map("_id") @db.ObjectId
    kd_negara   String
    kd_provinsi Int    @unique
    keterangan  String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)
    para_negara para_negara  @relation(fields: [kd_negara], references: [kd_negara], onDelete: NoAction, onUpdate: Cascade)

    para_kota   para_kota[]
    cis_alamat  cis_alamat[]
    cs_form cs_form[]
}

model para_kota {
    id          String @id @default(auto()) @map("_id") @db.ObjectId
    kd_provinsi Int
    kd_kota     Int    @unique
    keterangan  String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    para_provinsi  para_provinsi    @relation(fields: [kd_provinsi], references: [kd_provinsi], onDelete: NoAction, onUpdate: Cascade)
    para_kecamatan para_kecamatan[]
    cis_alamat     cis_alamat[]
    cs_form cs_form[]
}

model para_kecamatan {
    id           String @id @default(auto()) @map("_id") @db.ObjectId
    kd_kota      Int
    kd_kecamatan Int    @unique
    keterangan   String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)

    para_kota      para_kota        @relation(fields: [kd_kota], references: [kd_kota], onDelete: NoAction, onUpdate: Cascade)
    para_kelurahan para_kelurahan[]
    cis_alamat     cis_alamat[]
    cs_form cs_form[]
}

model para_kelurahan {
    id_kelurahan String @id @default(auto()) @map("_id") @db.ObjectId
    kd_kecamatan Int
    kd_kelurahan Int    @unique
    keterangan   String

    usrid_create String
    usrid_update String?
    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    aks_pemakai_create aks_pemakai  @relation("aks_pemakai_create", fields: [usrid_create], references: [username], onDelete: NoAction, onUpdate: Cascade)
    aks_pemakai_update aks_pemakai? @relation("aks_pemakai_update", fields: [usrid_update], references: [username], onDelete: NoAction, onUpdate: Cascade)
    para_kecamatan para_kecamatan? @relation(fields: [kd_kecamatan], references: [kd_kecamatan], onDelete: NoAction, onUpdate: Cascade)

    cis_alamat     cis_alamat[]
    cs_form cs_form[]
}
